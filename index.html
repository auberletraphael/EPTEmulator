<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8" />
    <title>Libre Informatique - Ingenico EPT Emulator - Tester</title>
    <script src="/node_modules/socket.io-client/socket.io.js"></script>
    <script src="/web-prompt.class.js"></script>
    <script src="/protocol-helpers.class.js"></script>
    <script src="/workflows.class.js"></script>
    <script src="/physical-layer.class.js"></script>
    <script src="/logical-layer.class.js"></script>
    <script src="/application-layer.class.js"></script>
    <script>
        var application = new ApplicationLayer(false, 'B8', 978, 1, 0, 0);
        application.logical.physical.clear(['stxProcessed']);
        application.createClient('ws://localhost:8001');
        function submitForm(form){
            application.prepareTransaction(form.elements['amount'].value, form.elements['transaction_id'].value);
            return false;
        }
    </script>
</head>
<body>
    <form action="#" method="get" onsubmit="javascript: return submitForm(this);">
        <table>
            <tr><td>Amount:</td><td><input type="number" value="" name="amount" /></td></tr>
            <tr><td>Transaction:</td><td><input type="number" value="" name="transaction_id" /></td></tr>
            <tr><td></td><td><input type="submit" name="submit" value="submit" /></td></tr>
        </table>
    </form>
    <div id="result"></div>
</body>
</html>
